import{e as Y}from"./mat3f64-e19cdcb8.js";import{e as I}from"./quatf64-81e039e4.js";import{dY as b,dZ as v,d_ as O,d$ as S,e0 as T,e1 as Z,e2 as k,e3 as W,e4 as X,e5 as w,e6 as B,e7 as C,e8 as D,e9 as g,ea as F,eb as G,ak as H,d7 as x,ec as J}from"./vendor-97e3022f.js";function K(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}function A(a,e,s){s*=.5;const o=Math.sin(s);return a[0]=o*e[0],a[1]=o*e[1],a[2]=o*e[2],a[3]=Math.cos(s),a}function N(a,e){const s=2*Math.acos(e[3]),o=Math.sin(s/2);return o>b()?(a[0]=e[0]/o,a[1]=e[1]/o,a[2]=e[2]/o):(a[0]=1,a[1]=0,a[2]=0),s}function j(a,e,s){const o=e[0],r=e[1],c=e[2],t=e[3],i=s[0],u=s[1],n=s[2],h=s[3];return a[0]=o*h+t*i+r*n-c*u,a[1]=r*h+t*u+c*i-o*n,a[2]=c*h+t*n+o*u-r*i,a[3]=t*h-o*i-r*u-c*n,a}function Q(a,e,s){s*=.5;const o=e[0],r=e[1],c=e[2],t=e[3],i=Math.sin(s),u=Math.cos(s);return a[0]=o*u+t*i,a[1]=r*u+c*i,a[2]=c*u-r*i,a[3]=t*u-o*i,a}function R(a,e,s){s*=.5;const o=e[0],r=e[1],c=e[2],t=e[3],i=Math.sin(s),u=Math.cos(s);return a[0]=o*u-c*i,a[1]=r*u+t*i,a[2]=c*u+o*i,a[3]=t*u-r*i,a}function U(a,e,s){s*=.5;const o=e[0],r=e[1],c=e[2],t=e[3],i=Math.sin(s),u=Math.cos(s);return a[0]=o*u+r*i,a[1]=r*u-o*i,a[2]=c*u+t*i,a[3]=t*u-c*i,a}function V(a,e){const s=e[0],o=e[1],r=e[2];return a[0]=s,a[1]=o,a[2]=r,a[3]=Math.sqrt(Math.abs(1-s*s-o*o-r*r)),a}function q(a,e,s,o){const r=e[0],c=e[1],t=e[2],i=e[3];let u,n,h,f,l,m=s[0],$=s[1],d=s[2],p=s[3];return n=r*m+c*$+t*d+i*p,n<0&&(n=-n,m=-m,$=-$,d=-d,p=-p),1-n>b()?(u=Math.acos(n),h=Math.sin(u),f=Math.sin((1-o)*u)/h,l=Math.sin(o*u)/h):(f=1-o,l=o),a[0]=f*r+l*m,a[1]=f*c+l*$,a[2]=f*t+l*d,a[3]=f*i+l*p,a}function aa(a){const e=J,s=e(),o=e(),r=e(),c=Math.sqrt(1-s),t=Math.sqrt(s);return a[0]=c*Math.sin(2*Math.PI*o),a[1]=c*Math.cos(2*Math.PI*o),a[2]=t*Math.sin(2*Math.PI*r),a[3]=t*Math.cos(2*Math.PI*r),a}function ea(a,e){const s=e[0],o=e[1],r=e[2],c=e[3],t=s*s+o*o+r*r+c*c,i=t?1/t:0;return a[0]=-s*i,a[1]=-o*i,a[2]=-r*i,a[3]=c*i,a}function oa(a,e){return a[0]=-e[0],a[1]=-e[1],a[2]=-e[2],a[3]=e[3],a}function z(a,e){const s=e[0]+e[4]+e[8];let o;if(s>0)o=Math.sqrt(s+1),a[3]=.5*o,o=.5/o,a[0]=(e[5]-e[7])*o,a[1]=(e[6]-e[2])*o,a[2]=(e[1]-e[3])*o;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);const c=(r+1)%3,t=(r+2)%3;o=Math.sqrt(e[3*r+r]-e[3*c+c]-e[3*t+t]+1),a[r]=.5*o,o=.5/o,a[3]=(e[3*c+t]-e[3*t+c])*o,a[c]=(e[3*c+r]+e[3*r+c])*o,a[t]=(e[3*t+r]+e[3*r+t])*o}return a}function ra(a,e,s,o){const r=.5*Math.PI/180;e*=r,s*=r,o*=r;const c=Math.sin(e),t=Math.cos(e),i=Math.sin(s),u=Math.cos(s),n=Math.sin(o),h=Math.cos(o);return a[0]=c*u*h-t*i*n,a[1]=t*i*h+c*u*n,a[2]=t*u*n-c*i*h,a[3]=t*u*h+c*i*n,a}function sa(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"}const ca=v,ta=O,ia=S,ua=j,na=T,ha=Z,Ma=k,E=W,fa=E,L=X,la=L,P=w,ma=B,$a=C;function da(a,e,s){const o=D(e,s);return o<-.999999?(g(M,pa,e),F(M)<1e-6&&g(M,qa,e),G(M,M),A(a,M,Math.PI),a):o>.999999?(a[0]=0,a[1]=0,a[2]=0,a[3]=1,a):(g(M,e,s),a[0]=M[0],a[1]=M[1],a[2]=M[2],a[3]=1+o,P(a,a))}const M=H(),pa=x(1,0,0),qa=x(0,1,0);function ga(a,e,s,o,r,c){return q(_,e,r,c),q(y,s,o,c),q(a,_,y,2*c*(1-c)),a}const _=I(),y=I();function Pa(a,e,s,o){const r=_a;return r[0]=s[0],r[3]=s[1],r[6]=s[2],r[1]=o[0],r[4]=o[1],r[7]=o[2],r[2]=-e[0],r[5]=-e[1],r[8]=-e[2],P(a,z(a,r))}const _a=Y();Object.freeze(Object.defineProperty({__proto__:null,add:ia,calculateW:V,conjugate:oa,copy:ca,dot:ha,equals:$a,exactEquals:ma,fromEuler:ra,fromMat3:z,getAxisAngle:N,identity:K,invert:ea,len:fa,length:E,lerp:Ma,mul:ua,multiply:j,normalize:P,random:aa,rotateX:Q,rotateY:R,rotateZ:U,rotationTo:da,scale:na,set:ta,setAxes:Pa,setAxisAngle:A,slerp:q,sqlerp:ga,sqrLen:la,squaredLength:L,str:sa},Symbol.toStringTag,{value:"Module"}));export{A as I,ma as N,oa as O,ra as T,ta as X,N as v,j as x};
