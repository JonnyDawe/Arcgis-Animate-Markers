import{ab as s,aA as a}from"./vendor-97e3022f.js";async function n(t,e){const{data:r}=await s(t,{responseType:"json",query:{f:"json",...e==null?void 0:e.customParameters,token:e==null?void 0:e.apiKey}});return r}const O={BingMapsLayer:async()=>(await a(()=>import("./BingMapsLayer-8f6c82a5.js"),["assets/BingMapsLayer-8f6c82a5.js","assets/vendor-97e3022f.js","assets/imageBitmapUtils-2afb41b6.js"])).default,BuildingSceneLayer:async()=>(await a(()=>import("./BuildingSceneLayer-8514c861.js"),["assets/BuildingSceneLayer-8514c861.js","assets/vendor-97e3022f.js","assets/capabilities-c607cf72.js","assets/SceneService-5271a528.js","assets/originUtils-cfe4feaf.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/jsonContext-91ba6d6f.js","assets/resourceUtils-aabec216.js","assets/resourceUtils-0dd6cacd.js","assets/saveAPIKeyUtils-ef8e8e7d.js","assets/saveUtils-50c15837.js","assets/I3SLayerDefinitions-4f5afd71.js","assets/I3SUtil-64a1dcbd.js","assets/mat4f64-9a8384aa.js","assets/spatialReferenceEllipsoidUtils-e15aaa16.js","assets/sphere-967c9721.js","assets/plane-5137aec6.js","assets/mat3f64-e19cdcb8.js","assets/quatf64-81e039e4.js","assets/I3SBinaryReader-1fdee1ae.js","assets/VertexAttribute-c2df436e.js","assets/floatRGBA-44450c5c.js","assets/NormalAttribute.glsl-d381beea.js","assets/interfaces-8918b36f.js","assets/BindType-d21d71dd.js","assets/orientedBoundingBox-77384463.js","assets/quat-868b706a.js","assets/computeTranslationToOriginAndRotation-5383511e.js","assets/popupUtils-26c9128e.js","assets/associatedFeatureServiceUtils-7003bea2.js","assets/elevationInfoUtils-c483ae97.js"])).default,CSVLayer:async()=>(await a(()=>import("./CSVLayer-0707f239.js"),["assets/CSVLayer-0707f239.js","assets/vendor-97e3022f.js","assets/clientSideDefaults-8736bda2.js","assets/QueryEngineCapabilities-85c4f1d0.js"])).default,CatalogLayer:async()=>(await a(()=>import("./CatalogLayer-aee3c671.js"),["assets/CatalogLayer-aee3c671.js","assets/vendor-97e3022f.js","assets/utils-df596064.js","assets/ClassBreaksDefinition-51c33a19.js","assets/FeatureLayerSource-b1f4d70a.js","assets/MeshLocalVertexSpace-42092399.js","assets/meshVertexSpaceUtils-8cc745bc.js","assets/MeshTransform-59c4d71c.js","assets/infoFor3D-24efd44a.js","assets/mat4f64-9a8384aa.js","assets/quat-868b706a.js","assets/mat3f64-e19cdcb8.js","assets/quatf64-81e039e4.js","assets/editingSupport-fee34851.js","assets/clientSideDefaults-8736bda2.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/QueryTask-31db7517.js","assets/executeForIds-221f78d8.js","assets/query-75e76fea.js","assets/pbfQueryUtils-e101e269.js","assets/pbf-8c41e084.js","assets/OptimizedFeature-059c854c.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/executeQueryJSON-677c9cfb.js","assets/executeQueryPBF-57dbb7a5.js","assets/featureConversionUtils-eadb343e.js"])).default,DimensionLayer:async()=>(await a(()=>import("./DimensionLayer-4bfe519d.js"),["assets/DimensionLayer-4bfe519d.js","assets/vendor-97e3022f.js","assets/Analysis-3ff32d23.js"])).default,ElevationLayer:async()=>(await a(()=>import("./ElevationLayer-ab074719.js"),["assets/ElevationLayer-ab074719.js","assets/vendor-97e3022f.js","assets/ArcGISCachedService-8cfb40d6.js","assets/TileInfoTilemapCache-ce589366.js","assets/TilemapCache-1a96d46a.js","assets/ByteSizeUnit-d4757d40.js"])).default,FeatureLayer:async()=>(await a(()=>import("./vendor-97e3022f.js").then(t=>t.n9),[])).default,GeoJSONLayer:async()=>(await a(()=>import("./GeoJSONLayer-0cbfc27e.js"),["assets/GeoJSONLayer-0cbfc27e.js","assets/vendor-97e3022f.js","assets/clientSideDefaults-8736bda2.js","assets/QueryEngineCapabilities-85c4f1d0.js"])).default,GeoRSSLayer:async()=>(await a(()=>import("./GeoRSSLayer-c5c403ea.js"),["assets/GeoRSSLayer-c5c403ea.js","assets/vendor-97e3022f.js"])).default,GroupLayer:async()=>(await a(()=>import("./GroupLayer-052664ae.js"),["assets/GroupLayer-052664ae.js","assets/vendor-97e3022f.js","assets/saveUtils-50c15837.js"])).default,ImageryLayer:async()=>(await a(()=>import("./ImageryLayer-40438554.js"),["assets/ImageryLayer-40438554.js","assets/vendor-97e3022f.js","assets/fetchRasterInfo-1a138fea.js","assets/multidimensionalUtils-a68be65d.js","assets/dataUtils-f7513b4f.js","assets/RasterSymbolizer-72b0f94f.js","assets/ClassBreaksDefinition-51c33a19.js","assets/imageBitmapUtils-2afb41b6.js","assets/executeQueryJSON-677c9cfb.js","assets/query-75e76fea.js","assets/pbfQueryUtils-e101e269.js","assets/pbf-8c41e084.js","assets/OptimizedFeature-059c854c.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/AttachmentInfo-644e2f32.js","assets/executeForIds-221f78d8.js"])).default,ImageryTileLayer:async()=>(await a(()=>import("./ImageryTileLayer-4aba4618.js"),["assets/ImageryTileLayer-4aba4618.js","assets/vendor-97e3022f.js","assets/fetchRasterInfo-1a138fea.js","assets/multidimensionalUtils-a68be65d.js","assets/dataUtils-f7513b4f.js","assets/RasterSymbolizer-72b0f94f.js","assets/ClassBreaksDefinition-51c33a19.js","assets/RawBlockCache-805a739f.js","assets/rasterProjectionHelper-c52468b5.js","assets/PolynomialTransform-0ef369a9.js","assets/TilemapCache-1a96d46a.js","assets/ByteSizeUnit-d4757d40.js"])).default,IntegratedMesh3DTilesLayer:async()=>(await a(()=>import("./IntegratedMesh3DTilesLayer-bdfb790a.js"),["assets/IntegratedMesh3DTilesLayer-bdfb790a.js","assets/vendor-97e3022f.js","assets/elevationInfoUtils-c483ae97.js"])).default,IntegratedMeshLayer:async()=>(await a(()=>import("./IntegratedMeshLayer-abb3759b.js"),["assets/IntegratedMeshLayer-abb3759b.js","assets/vendor-97e3022f.js","assets/persistable-a0c48eb2.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/resourceExtension-0510de22.js","assets/SceneService-5271a528.js","assets/originUtils-cfe4feaf.js","assets/jsonContext-91ba6d6f.js","assets/resourceUtils-aabec216.js","assets/resourceUtils-0dd6cacd.js","assets/saveAPIKeyUtils-ef8e8e7d.js","assets/saveUtils-50c15837.js","assets/I3SLayerDefinitions-4f5afd71.js","assets/elevationInfoUtils-c483ae97.js"])).default,KMLLayer:async()=>(await a(()=>import("./KMLLayer-48ed9340.js"),["assets/KMLLayer-48ed9340.js","assets/vendor-97e3022f.js","assets/kmlUtils-e3fce446.js"])).default,KnowledgeGraphLayer:async()=>(await a(()=>import("./KnowledgeGraphLayer-c347f1e5.js"),["assets/KnowledgeGraphLayer-c347f1e5.js","assets/vendor-97e3022f.js","assets/KnowledgeGraphSublayer-00f05d1e.js","assets/FeatureStore-f33bb1c8.js","assets/featureConversionUtils-eadb343e.js","assets/OptimizedFeature-059c854c.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/BoundsStore-0208f0b4.js","assets/PooledRBush-b43762c5.js","assets/timeSupport-15cf4e87.js","assets/json-48e3ea08.js","assets/QueryEngine-d523a5f6.js","assets/WhereClause-231f5353.js","assets/TimeOnly-e23204e1.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/utils-85efc296.js","assets/utils-c0d8c077.js","assets/utils-df596064.js","assets/ClassBreaksDefinition-51c33a19.js","assets/clientSideDefaults-8736bda2.js","assets/knowledgeGraphService-5ffd451f.js","assets/GraphQueryStreaming-b875ed69.js"])).default,LineOfSightLayer:async()=>(await a(()=>import("./LineOfSightLayer-b248425d.js"),["assets/LineOfSightLayer-b248425d.js","assets/vendor-97e3022f.js","assets/Analysis-3ff32d23.js","assets/persistable-a0c48eb2.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/resourceExtension-0510de22.js","assets/elevationInfoUtils-c483ae97.js"])).default,LinkChartLayer:async()=>(await a(()=>import("./LinkChartLayer-ec8e785a.js"),["assets/LinkChartLayer-ec8e785a.js","assets/vendor-97e3022f.js","assets/featureConversionUtils-eadb343e.js","assets/OptimizedFeature-059c854c.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/KnowledgeGraphSublayer-00f05d1e.js","assets/FeatureStore-f33bb1c8.js","assets/BoundsStore-0208f0b4.js","assets/PooledRBush-b43762c5.js","assets/timeSupport-15cf4e87.js","assets/json-48e3ea08.js","assets/QueryEngine-d523a5f6.js","assets/WhereClause-231f5353.js","assets/TimeOnly-e23204e1.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/utils-85efc296.js","assets/utils-c0d8c077.js","assets/utils-df596064.js","assets/ClassBreaksDefinition-51c33a19.js","assets/clientSideDefaults-8736bda2.js","assets/knowledgeGraphService-5ffd451f.js","assets/GraphQueryStreaming-b875ed69.js"])).default,MapImageLayer:async()=>(await a(()=>import("./MapImageLayer-68a317f3.js"),["assets/MapImageLayer-68a317f3.js","assets/vendor-97e3022f.js","assets/scaleUtils-7c3a149f.js","assets/SublayersOwner-7d31784b.js","assets/QueryTask-31db7517.js","assets/infoFor3D-24efd44a.js","assets/executeForIds-221f78d8.js","assets/query-75e76fea.js","assets/pbfQueryUtils-e101e269.js","assets/pbf-8c41e084.js","assets/OptimizedFeature-059c854c.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/executeQueryJSON-677c9cfb.js","assets/executeQueryPBF-57dbb7a5.js","assets/featureConversionUtils-eadb343e.js","assets/sublayerUtils-dde1bb8c.js","assets/ExportImageParameters-a9c0aae8.js","assets/floorFilterUtils-080a7cd2.js","assets/imageBitmapUtils-2afb41b6.js"])).default,MapNotesLayer:async()=>(await a(()=>import("./MapNotesLayer-56b0a81f.js"),["assets/MapNotesLayer-56b0a81f.js","assets/vendor-97e3022f.js","assets/objectIdUtils-789e911a.js"])).default,MediaLayer:async()=>(await a(()=>import("./MediaLayer-356ca400.js"),["assets/MediaLayer-356ca400.js","assets/vendor-97e3022f.js","assets/perspectiveUtils-d6ff1784.js","assets/normalizeUtilsSync-d6baf3ac.js","assets/mat3f64-e19cdcb8.js","assets/resourceExtension-0510de22.js","assets/BoundsStore-0208f0b4.js","assets/PooledRBush-b43762c5.js"])).default,OGCFeatureLayer:async()=>(await a(()=>import("./OGCFeatureLayer-7010e2f4.js"),["assets/OGCFeatureLayer-7010e2f4.js","assets/vendor-97e3022f.js","assets/ogcFeatureUtils-a36b4bf7.js","assets/featureConversionUtils-eadb343e.js","assets/OptimizedFeature-059c854c.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/geojson-de061372.js","assets/date-294ce3fb.js","assets/clientSideDefaults-8736bda2.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/sourceUtils-9eb330d5.js"])).default,OpenStreetMapLayer:async()=>(await a(()=>import("./OpenStreetMapLayer-d523a57d.js"),["assets/OpenStreetMapLayer-d523a57d.js","assets/vendor-97e3022f.js","assets/WebTileLayer-d775aee3.js","assets/imageBitmapUtils-2afb41b6.js"])).default,OrientedImageryLayer:async()=>(await a(()=>import("./OrientedImageryLayer-2fe4f259.js"),["assets/OrientedImageryLayer-2fe4f259.js","assets/vendor-97e3022f.js"])).default,PointCloudLayer:async()=>(await a(()=>import("./PointCloudLayer-4e5462e8.js"),["assets/PointCloudLayer-4e5462e8.js","assets/vendor-97e3022f.js","assets/SceneService-5271a528.js","assets/originUtils-cfe4feaf.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/jsonContext-91ba6d6f.js","assets/resourceUtils-aabec216.js","assets/resourceUtils-0dd6cacd.js","assets/saveAPIKeyUtils-ef8e8e7d.js","assets/saveUtils-50c15837.js","assets/PointCloudUniqueValueRenderer-eca62e47.js","assets/elevationInfoUtils-c483ae97.js"])).default,RouteLayer:async()=>(await a(()=>import("./RouteLayer-d5842a4d.js"),["assets/RouteLayer-d5842a4d.js","assets/vendor-97e3022f.js","assets/originUtils-cfe4feaf.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/Stop-42757c11.js"])).default,SceneLayer:async()=>(await a(()=>import("./SceneLayer-024a476e.js"),["assets/SceneLayer-024a476e.js","assets/vendor-97e3022f.js","assets/Mesh-c7226058.js","assets/MeshTransform-59c4d71c.js","assets/infoFor3D-24efd44a.js","assets/mat4f64-9a8384aa.js","assets/quat-868b706a.js","assets/mat3f64-e19cdcb8.js","assets/quatf64-81e039e4.js","assets/MeshVertexAttributes-e952fd4c.js","assets/MeshLocalVertexSpace-42092399.js","assets/meshVertexSpaceUtils-8cc745bc.js","assets/earcut-de5fa6d9.js","assets/DoubleArray-0a89b142.js","assets/Indices-07f78454.js","assets/plane-5137aec6.js","assets/deduplicate-6a863634.js","assets/projection-1eaee7cb.js","assets/spatialReferenceEllipsoidUtils-e15aaa16.js","assets/computeTranslationToOriginAndRotation-5383511e.js","assets/BufferView-f35119c1.js","assets/vec3-48d5311f.js","assets/vec4-006d03d4.js","assets/vertexSpaceConversion-071044e1.js","assets/uploadAssetErrors-bc10916e.js","assets/SceneService-5271a528.js","assets/originUtils-cfe4feaf.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/jsonContext-91ba6d6f.js","assets/resourceUtils-aabec216.js","assets/resourceUtils-0dd6cacd.js","assets/saveAPIKeyUtils-ef8e8e7d.js","assets/saveUtils-50c15837.js","assets/associatedFeatureServiceUtils-7003bea2.js","assets/capabilities-c607cf72.js","assets/I3SLayerDefinitions-4f5afd71.js","assets/persistable-a0c48eb2.js","assets/resourceExtension-0510de22.js","assets/elevationInfoUtils-c483ae97.js","assets/I3SUtil-64a1dcbd.js","assets/sphere-967c9721.js","assets/I3SBinaryReader-1fdee1ae.js","assets/VertexAttribute-c2df436e.js","assets/floatRGBA-44450c5c.js","assets/NormalAttribute.glsl-d381beea.js","assets/interfaces-8918b36f.js","assets/BindType-d21d71dd.js","assets/orientedBoundingBox-77384463.js","assets/popupUtils-26c9128e.js"])).default,StreamLayer:async()=>(await a(()=>import("./StreamLayer-fb4079ef.js"),["assets/StreamLayer-fb4079ef.js","assets/vendor-97e3022f.js"])).default,SubtypeGroupLayer:async()=>(await a(()=>import("./SubtypeGroupLayer-382aa175.js"),["assets/SubtypeGroupLayer-382aa175.js","assets/vendor-97e3022f.js"])).default,TileLayer:async()=>(await a(()=>import("./TileLayer-499408e2.js"),["assets/TileLayer-499408e2.js","assets/vendor-97e3022f.js","assets/ArcGISCachedService-8cfb40d6.js","assets/TileInfoTilemapCache-ce589366.js","assets/TilemapCache-1a96d46a.js","assets/ByteSizeUnit-d4757d40.js","assets/SublayersOwner-7d31784b.js","assets/QueryTask-31db7517.js","assets/infoFor3D-24efd44a.js","assets/executeForIds-221f78d8.js","assets/query-75e76fea.js","assets/pbfQueryUtils-e101e269.js","assets/pbf-8c41e084.js","assets/OptimizedFeature-059c854c.js","assets/OptimizedFeatureSet-1d1ac4b9.js","assets/executeQueryJSON-677c9cfb.js","assets/executeQueryPBF-57dbb7a5.js","assets/featureConversionUtils-eadb343e.js","assets/sublayerUtils-dde1bb8c.js","assets/imageBitmapUtils-2afb41b6.js"])).default,UnknownLayer:async()=>(await a(()=>import("./UnknownLayer-6d03dc28.js"),["assets/UnknownLayer-6d03dc28.js","assets/vendor-97e3022f.js"])).default,UnsupportedLayer:async()=>(await a(()=>import("./UnsupportedLayer-bef37b70.js"),["assets/UnsupportedLayer-bef37b70.js","assets/vendor-97e3022f.js"])).default,VectorTileLayer:async()=>(await a(()=>import("./VectorTileLayer-371bed56.js"),["assets/VectorTileLayer-371bed56.js","assets/vendor-97e3022f.js","assets/ArcGISCachedService-8cfb40d6.js","assets/TileInfoTilemapCache-ce589366.js","assets/TilemapCache-1a96d46a.js","assets/ByteSizeUnit-d4757d40.js","assets/jsonContext-91ba6d6f.js","assets/StyleRepository-4ce541b9.js","assets/StyleDefinition-79f309f8.js","assets/enums-583c1c7d.js","assets/enums-fb086c25.js","assets/GeometryUtils-0db672dc.js","assets/enums-2e633670.js","assets/VertexElementDescriptor-2925c6af.js","assets/definitions-73d759bb.js"])).default,VideoLayer:async()=>(await a(()=>import("./VideoLayer-0d879464.js"),["assets/VideoLayer-0d879464.js","assets/vendor-97e3022f.js","assets/TelemetryDisplay-da895614.js","assets/mat3f64-e19cdcb8.js","assets/spatialReferenceEllipsoidUtils-e15aaa16.js"])).default,VoxelLayer:async()=>(await a(()=>import("./VoxelLayer-979ad4cd.js"),["assets/VoxelLayer-979ad4cd.js","assets/vendor-97e3022f.js","assets/SceneService-5271a528.js","assets/originUtils-cfe4feaf.js","assets/multiOriginJSONSupportUtils-c978f4c3.js","assets/jsonContext-91ba6d6f.js","assets/resourceUtils-aabec216.js","assets/resourceUtils-0dd6cacd.js","assets/saveAPIKeyUtils-ef8e8e7d.js","assets/saveUtils-50c15837.js","assets/persistable-a0c48eb2.js","assets/resourceExtension-0510de22.js","assets/quat-868b706a.js","assets/mat3f64-e19cdcb8.js","assets/quatf64-81e039e4.js"])).default,WFSLayer:async()=>(await a(()=>import("./WFSLayer-6f0ab4aa.js"),["assets/WFSLayer-6f0ab4aa.js","assets/vendor-97e3022f.js","assets/clientSideDefaults-8736bda2.js","assets/QueryEngineCapabilities-85c4f1d0.js","assets/wfsUtils-df57bff1.js","assets/geojson-de061372.js","assets/date-294ce3fb.js","assets/OptimizedFeature-059c854c.js","assets/xmlUtils-444cb4c0.js"])).default,WMSLayer:async()=>(await a(()=>import("./WMSLayer-5d6e9c54.js"),["assets/WMSLayer-5d6e9c54.js","assets/vendor-97e3022f.js","assets/scaleUtils-7c3a149f.js","assets/crsUtils-3bab3d8c.js","assets/ExportWMSImageParameters-e861737a.js","assets/imageBitmapUtils-2afb41b6.js"])).default,WMTSLayer:async()=>(await a(()=>import("./WMTSLayer-82b2a552.js"),["assets/WMTSLayer-82b2a552.js","assets/vendor-97e3022f.js","assets/WebTileLayer-d775aee3.js","assets/imageBitmapUtils-2afb41b6.js","assets/TileInfoTilemapCache-ce589366.js","assets/crsUtils-3bab3d8c.js","assets/xmlUtils-444cb4c0.js"])).default,WebTileLayer:async()=>(await a(()=>import("./WebTileLayer-d775aee3.js").then(t=>t.W),["assets/WebTileLayer-d775aee3.js","assets/vendor-97e3022f.js","assets/imageBitmapUtils-2afb41b6.js"])).default},E=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function T(t,e){const{loadContext:r,..._}=e||{},i=r?await r.fetchServiceMetadata(t,_):await n(t,_);L(i),d(i);const u={serviceJSON:i};if((i.currentVersion??0)<10.5)return u;const y=`${t}/layers`,o=r?await r.fetchServiceMetadata(y,_):await n(y,_);return L(o),d(o),u.layersJSON={layers:o.layers,tables:o.tables},u}function c(t){const{type:e}=t;return!!e&&E.has(e)}function l(t){return t.type==="Table"}function d(t){var e,r;t.layers=(e=t.layers)==null?void 0:e.filter(c),t.tables=(r=t.tables)==null?void 0:r.filter(l)}function p(t){t.type||(t.type="Feature Layer")}function f(t){t.type||(t.type="Table")}function L(t){var e,r;(e=t.layers)==null||e.forEach(p),(r=t.tables)==null||r.forEach(f)}function w(t){switch(t){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}export{O as a,n as b,w as i,T as t};
